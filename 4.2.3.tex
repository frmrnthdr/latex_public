\documentclass[dvipdfmx]{jsarticle}
\setcounter{section}{2}
\setcounter{subsection}{2}
\input{macro}
\begin{document}
%\hypertarget{ux504fux5faeux5206}{%
\subsection{偏微分}%\label{ux504fux5faeux5206}}
%\hypertarget{ux65b9ux5411ux5faeux5206}{%
\subsubsection{方向微分}%\label{ux65b9ux5411ux5faeux5206}}
\begin{dfn}
$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$を用いて、$\forall\mathbf{x} \in I\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、0の$\varepsilon$近傍$U(0,\varepsilon)$を用いて次式のように関数$d\left( f,\mathbf{x},\mathbf{e} \right)$を定め
\begin{align*}
d\left( f,\mathbf{x},\mathbf{e} \right):\mathbb{R} \rightarrow \mathbb{R}^{m};t \mapsto f\left( \mathbf{x} + t\mathbf{e} \right)
\end{align*}
その関数$d\left( f,\mathbf{x},\mathbf{e} \right)$が$0$で微分可能であるなら、その関数$f$はその集合$I$で$\mathbf{e}$方向に微分可能であるといい$\partial\left( d\left( f,\mathbf{x},\mathbf{e} \right) \right)(0)$をその関数$f$のその点$\mathbf{x}$における$\mathbf{e}$方向の導値、微分係数などといい関数$I \rightarrow \mathbb{R}^{m};\mathbf{x} \mapsto \partial\left( d\left( f,\mathbf{x},\mathbf{e} \right) \right)(0)$を$D_{\mathbf{e}}f$、$\nabla_{\mathbf{e}}f$のように、即ち、次式のように書くことがある。
\begin{align*}
\partial\left( d\left( f,\mathbf{x},\mathbf{e} \right) \right)(0) = D_{\mathbf{e}}f\left( \mathbf{x} \right) = \nabla_{\mathbf{e}}f\left( \mathbf{x} \right)
\end{align*}
このような関数$D_{\mathbf{e}}f$を求めることをその関数$f$をそのvector$\mathbf{e}$について方向微分するという。
\end{dfn}
\begin{thm}\label{4.2.3.1}
$\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$がその集合$I$で$\mathbf{e}$方向に微分可能であるとき、次式が成り立つ。
\begin{align*}
D_{\mathbf{e}}f\left( \mathbf{x} \right) = \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h}
\end{align*}
\end{thm}
\begin{proof}
$\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$がその集合$I$で$\mathbf{e}$方向に微分可能であるとき、$\forall\mathbf{x} \in I$に対し、$0$の$\varepsilon$近傍$U(0,\varepsilon)$を用いて次式のように関数$d\left( f,\mathbf{x},\mathbf{e} \right):\mathbb{R} \rightarrow \mathbb{R}^{m}$が定められているのであったので、
\begin{align*}
d\left( f,\mathbf{x},\mathbf{e} \right)(t) = f\left( \mathbf{x} + t\mathbf{e} \right)
\end{align*}
したがって、次のようになる。
\begin{align*}
D_{\mathbf{e}}f\left( \mathbf{x} \right) &= \partial d\left( f,\mathbf{x},\mathbf{e} \right)(0) \\
&= \lim_{h \rightarrow 0}\frac{d\left( f,\mathbf{x},\mathbf{e} \right)(h) - d\left( f,\mathbf{x},\mathbf{e} \right)(0)}{h} \\
&= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h}
\end{align*}
\end{proof}
\begin{thm}\label{4.2.3.2}
$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$が$f = \left( f_{i} \right)_{i \in \varLambda_{m}}$とおかれると、$\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、その関数$f$がその集合$I$で$\mathbf{e}$方向に微分可能であるならそのときに限り、$\forall i \in \varLambda_{m}$に対し、その関数$f_{i}$がその集合$I$で$\mathbf{e}$方向に微分可能であり次式が成り立つ。
\begin{align*}
D_{\mathbf{e}}f = \left( D_{\mathbf{e}}f_{i} \right)_{i \in \varLambda_{m}}
\end{align*}
\end{thm}
\begin{proof}
$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$が$f = \left( f_{i} \right)_{i \in \varLambda_{m}}$とおかれると、$\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、その関数$f$がその集合$I$で$\mathbf{e}$方向に微分可能であるならそのときに限り、次のようになる。
\begin{align*}
D_{\mathbf{e}}f\left( \mathbf{x} \right) &= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h}\\
&= \lim_{h \rightarrow 0}\frac{\left( f_{i}\left( \mathbf{x} + h\mathbf{e} \right) \right)_{i \in \varLambda_{m}} - \left( f_{i}\left( \mathbf{x} \right) \right)_{i \in \varLambda_{m}}}{h}\\
&= \lim_{h \rightarrow 0}\left( \frac{f_{i}\left( \mathbf{x} + h\mathbf{e} \right) - f_{i}\left( \mathbf{x} \right)}{h} \right)_{i \in \varLambda_{m}}\\
&= \left( \lim_{h \rightarrow 0}\frac{f_{i}\left( \mathbf{x} + h\mathbf{e} \right) - f_{i}\left( \mathbf{x} \right)}{h} \right)_{i \in \varLambda_{m}} = \left( D_{\mathbf{e}}f_{i}\left( \mathbf{x} \right) \right)_{i \in \varLambda_{m}}
\end{align*}
したがって、$\forall i \in \varLambda_{m}$に対し、その関数$f_{i}$がその集合$I$で$\mathbf{e}$方向に微分可能である。
\end{proof}
\begin{thm}\label{4.2.3.3}
$\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、$I \subseteq D(f) \subseteq \mathbb{R}^{n}$、$I \subseteq D(g) \subseteq \mathbb{R}^{n}$なる関数たち$f:D(f) \rightarrow \mathbb{R}^{m}$、$g:D(g) \rightarrow \mathbb{R}^{m}$がその集合$I$で$\mathbf{e}$方向に微分可能であるなら、$\forall k,l \in \mathbb{R}$に対し、次式が成り立つ。
\begin{align*}
D_{k\mathbf{e}}f &= kD_{\mathbf{e}}f:I \rightarrow \mathbb{R}^{m}\\
D_{\mathbf{e}}(kf + lg) &= kD_{\mathbf{e}}f + lD_{e}g:I \rightarrow \mathbb{R}^{m}\\
D_{\mathbf{e}}(fg) &= D_{\mathbf{e}}fg + fD_{\mathbf{e}}g:I \rightarrow \mathbb{R}^{m}\ \mathrm{if}\ \mathbb{R}^{m} = \mathbb{C}
\end{align*}
\end{thm}
\begin{proof}
$\forall\mathbf{e} \in \mathbb{R}^{n}$に対し、$I \subseteq D(f) \subseteq \mathbb{R}^{n}$、$I \subseteq D(g) \subseteq \mathbb{R}^{n}$なる関数たち$f:D(f) \rightarrow \mathbb{R}^{m}$、$g:D(g) \rightarrow \mathbb{R}^{m}$がその集合$I$で$\mathbf{e}$方向に微分可能であるなら、$\forall\mathbf{x} \in I$に対し、0の$\varepsilon$近傍$U(0,\varepsilon)$を用いて次式のように関数$d\left( f,\mathbf{x},\mathbf{e} \right):\mathbb{R} \rightarrow \mathbb{R}^{m}$が定められているのであったので、
\begin{align*}
d\left( f,\mathbf{x},\mathbf{e} \right)(t) = f\left( \mathbf{x} + t\mathbf{e} \right)
\end{align*}
$\forall k,l \in \mathbb{R}$に対し、次のようになる。
\begin{align*}
D_{k\mathbf{e}}f\left( \mathbf{x} \right) &= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + hk\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h} \\
&= \lim_{h \rightarrow 0}\left( k\frac{f\left( \mathbf{x} + hk\mathbf{e} \right) - f\left( \mathbf{x} \right)}{kh} \right)\\
&= k\lim_{hk \rightarrow 0}\frac{f\left( \mathbf{x} + kh\mathbf{e} \right) - f\left( \mathbf{x} \right)}{kh} = kD_{\mathbf{e}}f\left( \mathbf{x} \right)\\
D_{\mathbf{e}}(kf + lg)\left( \mathbf{x} \right) &= D_{\mathbf{e}}\left( kf\left( \mathbf{x} \right) + lg\left( \mathbf{x} \right) \right)\\
&= \lim_{h \rightarrow 0}\frac{\left( kf\left( \mathbf{x} + h\mathbf{e} \right) + lg\left( \mathbf{x} + h\mathbf{e} \right) \right) - \left( kf\left( \mathbf{x} \right) + lg\left( \mathbf{x} \right) \right)}{h}\\
&= \lim_{h \rightarrow 0}\left( k\frac{f\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h} + l\frac{g\left( \mathbf{x} + h\mathbf{e} \right) - g\left( \mathbf{x} \right)}{h} \right)\\
&= k\lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h} + l\lim_{h \rightarrow 0}\frac{g\left( \mathbf{x} + h\mathbf{e} \right) - g\left( \mathbf{x} \right)}{h}\\
&= kD_{\mathbf{e}}f\left( \mathbf{x} \right) + lD_{\mathbf{e}}g\left( \mathbf{x} \right)\\
&= \left( kD_{\mathbf{e}}f + lD_{\mathbf{e}}g \right)\left( \mathbf{x} \right)\\
D_{\mathbf{e}}(fg)\left( \mathbf{x} \right) &= D_{\mathbf{e}}\left( f\left( \mathbf{x} \right)g\left( \mathbf{x} \right) \right)\\
&= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right)g\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)g\left( \mathbf{x} \right)}{h}\\
&= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right)g\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)g\left( \mathbf{x} \right)}{h}\\
&= \lim_{h \rightarrow 0}{\frac{f\left( \mathbf{x} + h\mathbf{e} \right)g\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)g\left( \mathbf{x} + h\mathbf{e} \right)}{h} \cdot \frac{+ f\left( \mathbf{x} \right)g\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)g\left( \mathbf{x} \right)}{h}}\\
&= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right)g\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)g\left( \mathbf{x} + h\mathbf{e} \right)}{h} + \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} \right)g\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)g\left( \mathbf{x} \right)}{h}\\
&= \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e} \right) - f\left( \mathbf{x} \right)}{h}\lim_{h \rightarrow 0}{g\left( \mathbf{x} + h\mathbf{e} \right)} + f\left( \mathbf{x} \right)\lim_{h \rightarrow 0}\frac{g\left( \mathbf{x} + h\mathbf{e} \right) - g\left( \mathbf{x} \right)}{h}\\
&= D_{\mathbf{e}}f\left( \mathbf{x} \right)g\left( \mathbf{x} \right) + f\left( \mathbf{x} \right)D_{\mathbf{e}}g\left( \mathbf{x} \right)\\
&= \left( D_{\mathbf{e}}fg + fD_{\mathbf{e}}g \right)\left( \mathbf{x} \right)
\end{align*}
\end{proof}
%\hypertarget{ux504fux5faeux5206-1}{%
\subsubsection{偏微分}%\label{ux504fux5faeux5206-1}}
\begin{dfn} vectors$\mathbf{e}_{j}$が次式のように定義されるとする。
\begin{align*}
\mathbf{e}_{j} = \left( \delta_{ij} \right)_{i \in \varLambda_{n}} ,\ \ \delta_{ij} =\left\{ \begin{matrix}
1 & \mathrm{if} & i = j \\
0 & \mathrm{if} & i \neq j \\
\end{matrix} \right.\  
\end{align*}
このとき、組$\left\langle \mathbf{e}_{j} \right\rangle_{j \in \varLambda_{n}}$は$n$次元数空間$\mathbb{R}^{n}$の基底になるのであった。この基底をその$n$次元数空間$\mathbb{R}^{n}$の標準直交基底、自然基底などといいこの$\delta_{ij}$をKroneckerの$\delta$などという。
\end{dfn}
\begin{dfn}
$\forall j \in \varLambda_{n}$に対し、$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$がその集合$I$で$\mathbf{e}_{j}$方向に微分可能であるとき、その関数$f$はその集合$I$で第$j$成分について偏微分可能であるといい次式のようにvector$\mathbf{x}$をおいて
\begin{align*}
\mathbf{x} = \left( x_{i} \right)_{i \in \varLambda_{n}} = \sum_{j \in \varLambda_{n}} {x_{j}\mathbf{e}_{j}} \in I
\end{align*}
$D_{\mathbf{e}_{j}}f\left( \mathbf{x} \right)$をその関数$f$のその点$\mathbf{x}$における第$j$成分の偏導値、偏微分係数などといいこれは次式のように書かれる。
\begin{align*}
D_{\mathbf{e}_{j}}f\left( \mathbf{x} \right) = \frac{\partial}{\partial x_{j}}f\left( \mathbf{x} \right) = f_{x_{j}}\left( \mathbf{x} \right) = \partial_{j}f\left( \mathbf{x} \right) = D_{j}f\left( \mathbf{x} \right)
\end{align*}
このような関数$\partial_{j}f$をその関数$f$のその第$j$成分の偏導関数などといいこれを求めることをその関数$f$を第$j$成分について偏微分するという。
\end{dfn}
\begin{dfn}
$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$の第$i$成分の偏導関数$\partial_{i}f$が第$j$成分について偏微分可能であるなら、その関数$\partial_{i}f$のその第$j$成分の偏導関数$\partial_{j}\partial_{i}f$が得られこれは次式のようにも書かれる。
\begin{align*}
\partial_{j}\partial_{i}f\left( \mathbf{x} \right) &= \left\{ \begin{matrix}
\frac{\partial^{2}f}{\partial x_{j}^{2}}\left( \mathbf{x} \right) & \mathrm{if} & i = j \\
\frac{\partial^{2}f}{\partial x_{j}\partial x_{i}}\left( \mathbf{x} \right) & \mathrm{if} & i \neq j \\
\end{matrix} \right.\  = f_{x_{i}x_{j}}\left( \mathbf{x} \right) = \partial_{ij}f\left( \mathbf{x} \right) = D_{ij}f\left( \mathbf{x} \right)
\end{align*}
\end{dfn}
\begin{thm}\label{4.2.3.4}
$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$が第$j$成分について偏微分可能であるとき、次式が成り立つ。
\begin{align*}
\partial_{j}f\left( \mathbf{x} \right) = \lim_{h \rightarrow 0}\frac{1}{h}\left( f\left( \begin{matrix}
x_{1} \\
\vdots \\
x_{j} + h \\
\vdots \\
x_{n} 
\end{matrix} \right) - f\left( \begin{matrix}
x_{1} \\
\vdots \\
x_{j} \\
\vdots \\
x_{n} 
\end{matrix} \right) \right)
\end{align*}
\end{thm}
\begin{proof}
$I \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$がその集合$I$で第$j$成分について偏微分可能であるとき、定義より$\partial_{j}f\left( \mathbf{x} \right) = D_{\mathbf{e}_{j}}f\left( \mathbf{x} \right)$が成り立つ。したがって、次式が成り立つ。
\begin{align*}
D_{\mathbf{e}_{j}}f\left( \mathbf{x} \right) = \lim_{h \rightarrow 0}\frac{f\left( \mathbf{x} + h\mathbf{e}_{j} \right) - f\left( \mathbf{x} \right)}{h}
\end{align*}
ここで、次のようになるので、
\begin{align*}
\mathbf{x} + h\mathbf{e}_{j} &= \left( \begin{matrix}
x_{1} \\
\vdots \\
x_{j} \\
\vdots \\
x_{n} 
\end{matrix} \right)+ h\left( \begin{matrix}
0 \\
\vdots \\
1 \\
\vdots \\
0\\
\end{matrix} \right)= \left( \begin{matrix}
x_{1} \\
\vdots \\
x_{j} +h\\
\vdots \\
x_{n} 
\end{matrix} \right)
\end{align*}
したがって、次のようになる。
\begin{align*}
\partial_{j}f\left( \mathbf{x} \right) = \lim_{h \rightarrow 0}\frac{1}{h}\left( f\left( \begin{matrix}
x_{1} \\
\vdots \\
x_{j} + h \\
\vdots \\
x_{n} 
\end{matrix} \right) - f\left( \begin{matrix}
x_{1} \\
\vdots \\
x_{j} \\
\vdots \\
x_{n} 
\end{matrix} \right) \right)\end{align*}
\end{proof}
\begin{thm}\label{4.2.3.5}
開集合$U$を用いた$U \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$について、$\mathbf{c} \in U$なる点$\mathbf{c}$の$\varepsilon$近傍$U\left( \mathbf{c},\varepsilon \right)$で偏導関数たち$\partial_{ij}f$、$\partial_{ji}f$が存在して、これらがその点$\mathbf{c}$で連続であるなら、次式が成り立つ。
\begin{align*}
\partial_{ij}f\left( \mathbf{c} \right) = \partial_{ji}f\left( \mathbf{c} \right)
\end{align*}
\end{thm}
\begin{proof}
開集合$U$を用いた$U \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$について、$\mathbf{c} = \sum_{j \in \varLambda_{n} \setminus \left\{ i,j \right\}} {x_{j}\mathbf{e}_{j}} + c_{i}\mathbf{e}_{i} + c_{j}\mathbf{e}_{j} \in I$なる点$\mathbf{c}$の$\varepsilon$近傍$U\left( \mathbf{c},\varepsilon \right)$で偏導関数たち$\partial_{i}f$、$\partial_{j}f$が存在してこれらがその点$\mathbf{c}$で連続であるとする。$m = 1$のとき、次式のようにvectors$\mathbf{x}$、$\mathbf{x}'$をおく。
\begin{align*}
\mathbf{x} = \left( x_{i} \right)_{i \in \varLambda_{n}} = \sum_{j \in \varLambda_{n}} {x_{j}\mathbf{e}_{j}},\mathbf{x}' = \sum_{j \in \varLambda_{n} \setminus \left\{ i,j \right\}} {x_{j}\mathbf{e}_{j}}
\end{align*}
また、その集合$U$が開集合であるから、$\mathbf{x}' + \left( c_{i} + h_{i} \right)\mathbf{e}_{i} + \left( c_{j} + h_{j} \right)\mathbf{e}_{j} \in U\left( \mathbf{c},\varepsilon \right)$なる実数たち$h_{i}$、$h_{j}$をおく。\par
ここで、$0 < h_{i}$のとき、関数$g_{i}$が次式のように定義されると、
\begin{align*}
g_{i}:\left\{ x_{i} \in \mathbb{R} \middle| \mathbf{x} \in U \right\} \rightarrow \mathbb{R}^{m};x_{i} \rightarrow f\left( \mathbf{x}' + x_{i}\mathbf{e}_{i} + \left( x_{j} + h_{j} \right)\mathbf{e}_{j} \right) - f\left( \mathbf{x}' + x_{i}\mathbf{e}_{i} + x_{j}\mathbf{e}_{j} \right)
\end{align*}
仮定よりその偏導関数$\partial_{ij}f$が存在し次式が成り立つので、
\begin{align*}
\partial g_{i}\left( x_{i} \right) = \partial_{i}f\left( \mathbf{x}' + x_{i}\mathbf{e}_{i} + \left( c_{j} + h_{j} \right)\mathbf{e}_{j} \right) - \partial_{i}f\left( \mathbf{x}' + x_{i}\mathbf{e}_{i} + c_{j}\mathbf{e}_{j} \right)
\end{align*}
その関数$g_{i}$は明らかに集合$\left[ c_{i},c_{i} + h_{i} \right]$で連続でその関数$g_{i}$はその集合$\left( c_{i},c_{i} + h_{i} \right)$で微分可能であるので、平均値の定理より次式が成り立つような実数$d_{i}$がその集合$\left( c_{i},c_{i} + h_{i} \right)$に存在する。
\begin{align*}
\frac{g_{i}\left( c_{i} + h_{i} \right) - g_{i}\left( c_{i} \right)}{h_{i}} = \partial g_{i}\left( d_{i} \right)
\end{align*}
さらに、$0 < h_{j}$のとき、関数$g_{j}$が次式のように定義されると、
\begin{align*}
g_{j}:\left\{ x_{j} \in \mathbb{R} \middle| \mathbf{x} \in U \right\} \rightarrow \mathbb{R}^{m};x_{j} \rightarrow \partial_{i}f\left( \mathbf{x}' + d_{i}\mathbf{e}_{i} + x_{j}\mathbf{e}_{j} \right)
\end{align*}
仮定よりその偏導関数たち$\partial_{ij}f$がその$\varepsilon$近傍$U\left( \mathbf{c},\varepsilon \right)$で存在しその偏導関数$\partial_{i}f$がその$\varepsilon$近傍$U\left( \mathbf{c},\varepsilon \right)$で連続であり$c' + \left( c_{i} + h_{i} \right)\mathbf{e}_{i} + \left( c_{j} + h_{j} \right)\mathbf{e}_{j} \in U\left( \mathbf{c},\varepsilon \right)$が成り立つようにされているので、その関数$g_{j}$はその集合$\left[ c_{j},c_{j} + h_{j} \right]$で連続であるかつ、その集合$\left( c_{j},c_{j} + h_{j} \right)$で微分可能であるので、平均値の定理より次式が成り立つような実数$d_{j}$がその集合$\left( c_{i},c_{i} + h_{i} \right)$に存在する。
\begin{align*}
\frac{g_{j}\left( c_{j} + h_{j} \right) - g_{j}\left( c_{j} \right)}{h_{j}} = \partial g_{j}\left( d_{j} \right)
\end{align*}
ここで、点$\varDelta$を次のようにおくと、
\begin{align*}
\varDelta = g_{i}\left( c_{i} + h_{i} \right) - g_{i}\left( c_{i} \right)
\end{align*}
したがって、次のようになる。
\begin{align*}
\varDelta &= g\left( c_{i} + h_{i} \right) - g\left( c_{i} \right)\\
&= h_{i}\partial g_{i}\left( d_{i} \right)\\
&= h_{i}\left( \partial_{i}f\left( \mathbf{x}' + d_{i}\mathbf{e}_{i} + \left( c_{j} + h_{j} \right)\mathbf{e}_{j} \right) - \partial_{i}f\left( \mathbf{x}' + d_{i}\mathbf{e}_{i} + c_{j}\mathbf{e}_{j} \right) \right)\\
&= h_{i}\left( g_{j}\left( c_{j} + h_{j} \right) - g_{j}\left( c_{j} \right) \right)\\
&= h_{i}h_{j}\partial g_{j}\left( d_{j} \right)\\
&= h_{i}h_{j}\partial_{ij}f\left( \mathbf{x}' + d_{i}\mathbf{e}_{i} + d_{j}\mathbf{e}_{j} \right)
\end{align*}
ここで、仮定よりその偏導関数$\partial_{ij}f$がその点$\mathbf{c}$で連続であるので、次式が成り立つ。
\begin{align*}
\partial_{ij}f\left( \mathbf{c} \right) = \lim_{\mathbf{x} \rightarrow \mathbf{c}}{\partial_{ij}f\left( \mathbf{x} \right)}
\end{align*}
したがって、$x_{i} \neq c_{i},x_{j} \neq c_{j}$として次のようになる。
\begin{align*}
\partial_{ij}f\left( \mathbf{c} \right) &= \lim_{\scriptsize \begin{matrix}
\mathbf{x} \rightarrow \mathbf{c} \\
x_{i} \neq c_{i},x_{j} \neq c_{j} \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)} = \lim_{\scriptsize \begin{matrix}
\mathbf{x} \rightarrow \mathbf{c} \\
x_{i} \neq c_{i},x_{j} \neq c_{j} \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)}\\
&= \lim_{\scriptsize \begin{matrix}
\sum_{j \in \varLambda_{n}} {x_{j}\mathbf{e}_{j}} \rightarrow \sum_{j \in \varLambda_{n} \setminus \left\{ i,j \right\}} {x_{j}\mathbf{e}_{j}} + c_{i}\mathbf{e}_{i} + c_{j}\mathbf{e}_{j} \\
x_{i} \neq c_{i},x_{j} \neq c_{j} \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)}\\
&= \lim_{\scriptsize \begin{matrix}
x_{i}\mathbf{e}_{i} + x_{j}\mathbf{e}_{j} \rightarrow c_{i}\mathbf{e}_{i} + c_{j}\mathbf{e}_{j} \\
x_{i} \neq c_{i},x_{j} \neq c_{j} \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)} = \lim_{\scriptsize \begin{matrix}
x_{i} \rightarrow c_{i},x_{j} \rightarrow c_{j} \\
x_{i} \neq c_{i},x_{j} \neq c_{j} \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)}
\end{align*}
ここで、それらの実数たち$x_{i}$、$x_{j}$が十分にそれらの実数たち$c_{i}$、$c_{j}$に近いので、次式のようにおくと、
\begin{align*}
x_{i} = c_{i} + h_{i},\ \ x_{j} = c_{j} + h_{j}
\end{align*}
したがって、次のようになる。
\begin{align*}
\partial_{ij}f\left( \mathbf{c} \right) = \lim_{\scriptsize \begin{matrix}
c_{i} + h_{i} \rightarrow c_{i},\ c_{j} + h_{j} \rightarrow 0 \\
h_{i} \neq 0,h_{j} \neq 0 \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)}
\end{align*}
ここで、$c_{i} < d_{i} < c_{i} + h_{i}$かつ$c_{j} < d_{j} < c_{j} + h_{j}$よりはさみうちの原理より次式のようになる。
\begin{align*}
\partial_{ij}f\left( \mathbf{c} \right) = \lim_{\scriptsize \begin{matrix}
d_{i} \rightarrow c_{i},d_{j} \rightarrow c_{j} \\
h_{i} \neq 0,h_{j} \neq 0 \\
\end{matrix}}{\partial_{ij}f\left( \mathbf{x} \right)} = \lim_{\scriptsize \begin{matrix}
d_{i} \rightarrow c_{i},d_{j} \rightarrow c_{j} \\
h_{i} \neq 0,h_{j} \neq 0 \\
\end{matrix}}\frac{\varDelta}{h_{i}h_{j}}
\end{align*}
同様にして次式が得られる。
\begin{align*}
\partial_{ji}f\left( \mathbf{c} \right) = \lim_{\scriptsize \begin{matrix}
d_{i} \rightarrow c_{i},d_{j} \rightarrow c_{j} \\
h_{i} \neq 0,h_{j} \neq 0 \\
\end{matrix}}\frac{\varDelta}{h_{i}h_{j}}
\end{align*}\par
以上より、次式が成り立つ。
\begin{align*}
\partial_{ij}f\left( \mathbf{c} \right) = \partial_{ji}f\left( \mathbf{c} \right)
\end{align*}
$0 > h_{i}$または$0 > h_{j}$のときも同様にして示される。$m \geq 2$のときも成分ごとで考えれば、明らかである。
\end{proof}
\begin{dfn}
添数集合$\varLambda_{n}$について考えよう。次のように全単射な写像$p$をその添数集合$\varLambda_{n}$の置換という。
\begin{align*}
p:\varLambda_{n}\overset{\sim}{\rightarrow}\varLambda_{n};i \mapsto p(i)
\end{align*}
ここでは、添数集合$\varLambda_{n}$の置換全体の集合を$\mathfrak{S}_{n}$とおくことにする。
\end{dfn}
\begin{dfn}
開集合$U$を用いた$U \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$の$k$階の偏導関数が存在してこれらがその開集合$U$で連続であるとき、その関数$f$はその開集合$U$上で$C^{k}$級である、$k$回連続微分可能であるという。$\forall k \in \mathbb{N}$に対し、その関数$f$が$C^{k}$級であるなら、その関数$f$は$C^{\infty}$級である、無限回微分可能であるという。
\end{dfn}
\begin{thm}\label{4.2.3.6}
開集合$U$を用いた$U \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$がその開集合$U$で$C^{k}$級であるなら、その開集合$U$上で、その関数$f$の$k$階までのすべての偏導関数は偏微分の順序によらない、即ち、添数集合$\varLambda_{k}$の置換全体の集合を$\mathfrak{S}_{k}$として$\forall p,q \in \mathfrak{S}_{k}$に対し、次式が成り立つ。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p(k)}}f = \partial_{j_{q(1)}j_{q(2)}\cdots j_{q(k)}}f
\end{align*}
\end{thm}
\begin{proof}
開集合$U$を用いた$U \subseteq D(f) \subseteq \mathbb{R}^{n}$なる関数$f:D(f) \rightarrow \mathbb{R}^{m}$がその開集合$U$で$C^{k}$級であるとする。\par
$k = 1$のときは明らかであろう。$k = 2$のとき、仮定より偏導関数たち$\partial_{j_{1}j_{2}}f$、$\partial_{j_{2}j_{1}}f$が存在してこれらがその開集合$U$で連続であるので、その開集合$U$上で次式が成り立つ。
\begin{align*}
\partial_{j_{1}j_{2}}f = \partial_{j_{2}j_{1}}f
\end{align*}
また、次式たちが成り立つことは明らかであろう。
\begin{align*}
\partial_{j_{1}j_{1}}f = \partial_{j_{1}j_{1}}f,\ \ \partial_{j_{2}j_{2}}f = \partial_{j_{2}j_{2}}f
\end{align*}\par
$k = k'$のとき、添数集合$\varLambda_{k'}$の置換全体の集合を$\mathfrak{S}_{k'}$として$\forall p \in \mathfrak{S}_{k'}$に対し、その開集合$U$上で次式が成り立つと仮定しよう。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}}f = \partial_{j_{1}j_{2}\cdots j_{k'}}f
\end{align*}\par
$k = k' + 1$のとき、添数集合$\varLambda_{k' + 1}$の置換全体の集合を$\mathfrak{S}_{k' + 1}$としてその開集合$U$上で$\forall p \in \mathfrak{S}_{k' + 1}$に対し、$p\left( k' + 1 \right) = k' + 1$のとき、次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}j_{p\left( k' + 1 \right)}}f &= \partial_{j_{p\left( k' + 1 \right)}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}}f\\
&= \partial_{j_{k' + 1}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}}f
\end{align*}
ここで、次式のような写像$p'$を考えると、
\begin{align*}
p':\varLambda_{k'}\overset{\sim}{\rightarrow}\varLambda_{k'};i \mapsto p(i)
\end{align*}
次式のようにその写像$p'$の逆写像が存在するので、
\begin{align*}
{p'}^{- 1}:\varLambda_{k'}\overset{\sim}{\rightarrow}\varLambda_{k'};i \mapsto p^{- 1}(i)
\end{align*}
その写像$p'$は全単射である。したがって、$p' \in \mathfrak{S}_{k'}$となり仮定より次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}j_{p\left( k' + 1 \right)}}f &= \partial_{j_{k' + 1}}\partial_{j_{p'(1)}j_{p'(2)}\cdots j_{p'\left( k' \right)}}f\\
&= \partial_{j_{k' + 1}}\partial_{j_{1}j_{2}\cdots j_{k'}}f\\
&= \partial_{j_{1}j_{2}\cdots j_{k'}j_{k' + 1}}f
\end{align*}\par
$p\left( k' + 1 \right) \neq k' + 1$のとき、その置換$p$は全単射であるから、$p\left( i' \right) = k' + 1$とおき、$k' - i' + 1 = 1$のとき、明らかに$i' = k'$となるので、次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}j_{p\left( k' + 1 \right)}}f = \partial_{j_{p\left( k' \right)}j_{p\left( k' + 1 \right)}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' - 1 \right)}}f
\end{align*}
仮定より、その関数$f$の$k$階の偏導関数が存在してこれらがその開集合$U$で連続であるので、次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}j_{p\left( k' + 1 \right)}}f &= \partial_{j_{p\left( k' + 1 \right)}j_{p\left( k' \right)}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' - 1 \right)}}f\\
&= \partial_{j_{p\left( k' \right)}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' - 1 \right)}j_{p\left( k' + 1 \right)}}f
\end{align*}
ここで、次のような写像$p'$を考えると、
\begin{align*}
p':\varLambda_{k'}\overset{\sim}{\rightarrow}\varLambda_{k'};i \mapsto \left\{ \begin{matrix}
p\left( k' + 1 \right) & \mathrm{if} & i = k' \\
p(i) & \mathrm{if} & i \neq k' \\
\end{matrix} \right.\ 
\end{align*}
次のようにその写像$p'$の逆写像が存在するので、
\begin{align*}
{p'}^{- 1}:\varLambda_{k'}\overset{\sim}{\rightarrow}\varLambda_{k'};i \mapsto \left\{ \begin{matrix}
k' & \mathrm{if} & i = p\left( k' + 1 \right) \\
p^{- 1}(i) & \mathrm{if} & i \neq k' \\
\end{matrix} \right.\ 
\end{align*}
その写像$p'$は全単射である。したがって、$p' \in \mathfrak{S}_{k'}$となり次式が成り立つ。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' \right)}j_{p\left( k' + 1 \right)}}f = \partial_{j_{k' + 1}}\partial_{j_{p'(1)}j_{p'(2)}\cdots j_{p'\left( k' - 1 \right)}j_{p'\left( k' \right)}}f
\end{align*}\par
$k' - i + 1 = k'' \leq k' - 1$のとき、次式が成り立つような置換$p'$がその集合$\mathfrak{S}_{k'}$に存在すると仮定しよう。
\begin{align*}
\partial_{j_{p(i + 1)}\cdots j_{p\left( k' + 1 \right)}}\partial_{j_{k' + 1}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p(i - 1)}}f = \partial_{j_{k' + 1}}\partial_{j_{p'(1)}j_{p'(2)}\cdots j_{p'\left( k' \right)}}f
\end{align*}\par
$k' - i + 1 = k'' + 1 \leq k'$のとき、次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' + 1 \right)}}f = \partial_{j_{p\left( k'' + 2 \right)}\cdots j_{p\left( k' + 1 \right)}}\partial_{j_{p(i)}j_{p(i + 1)}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k'' - 1 \right)}}f
\end{align*}
仮定より、その関数$f$の$k$階の偏導関数が存在してこれらがその開集合$U$で連続であるので、次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' + 1 \right)}}f = \partial_{j_{p(i + 2)}\cdots j_{p\left( k' + 1 \right)}}\partial_{j_{p(i + 1)}j_{p(i)}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p(i - 1)}}f
\end{align*}
ここで、次のような写像$p''$を考えると、
\begin{align*}
p'':\varLambda_{k' + 1}\overset{\sim}{\rightarrow}\varLambda_{k' + 1};i \mapsto \left\{ \begin{matrix}
p(i) & \mathrm{if} & i = i \\
p(i + 1) & \mathrm{if} & i = i + 1 \\
p(i) & \mathrm{otherwise} & \  \\
\end{matrix} \right.\ 
\end{align*}
次のようにその写像$p''$の逆写像が存在するので、
\begin{align*}
{p''}^{- 1}:\varLambda_{k' + 1}\overset{\sim}{\rightarrow}\varLambda_{k' + 1};i \mapsto \left\{ \begin{matrix}
i + 1 & \mathrm{if} & i = p(i) \\
i & \mathrm{if} & i = p(i + 1) \\
p^{- 1}(i) & \mathrm{otherwise} & \  \\
\end{matrix} \right.\ 
\end{align*}
その写像$p'$は全単射である。したがって、$p'' \in \mathfrak{S}_{k' + 1}$となり次式のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' + 1 \right)}}f = \partial_{j_{p''(i + 2)}\cdots j_{p''\left( k' + 1 \right)}}\partial_{j_{p''(i + 1)}j_{p''(i)}}\partial_{j_{p''(1)}j_{p''(2)}\cdots j_{p''(i - 1)}}f
\end{align*}
したがって、次のようになる。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p\left( k' + 1 \right)}}f = \partial_{j_{p''(i + 1)}\cdots j_{p''\left( k' + 1 \right)}}\partial_{j_{k' + 1}}\partial_{j_{p''(1)}j_{p''(2)}\cdots j_{p''(i - 1)}}f
\end{align*}
ここで、仮定より次式が成り立つような置換$p'$がその集合$\mathfrak{S}_{k'}$に存在する。
\begin{align*}
\partial_{j_{p''(i + 1)}\cdots j_{p''\left( k' + 1 \right)}}\partial_{j_{k' + 1}}\partial_{j_{p''(1)}j_{p''(2)}\cdots j_{p''(i - 1)}}f = \partial_{j_{k' + 1}}\partial_{j_{p'(1)}j_{p'(2)}\cdots j_{p'\left( k' \right)}}f
\end{align*}\par
以上より、数学的帰納法によって、$p\left( k' + 1 \right) \neq k' + 1$のとき、$\forall i \in \varLambda_{k'}$に対し次式が成り立つような置換$p'$がその集合$\mathfrak{S}_{k'}$に存在する。
\begin{align*}
\partial_{j_{p(i + 1)}\cdots j_{p\left( k' + 1 \right)}}\partial_{j_{k' + 1}}\partial_{j_{p(1)}j_{p(2)}\cdots j_{p(i - 1)}}f = \partial_{j_{k' + 1}}\partial_{j_{p'(1)}j_{p'(2)}\cdots j_{p'\left( k' \right)}}f
\end{align*}
ここで、先ほどの$p'\left( k' + 1 \right) = k' + 1$のときの議論より次式が成り立つ。
\begin{align*}
\partial_{j_{k' + 1}}\partial_{j_{p'(1)}j_{p'(2)}\cdots j_{p'\left( k' \right)}}f = \partial_{j_{1}j_{2}\cdots j_{k'}j_{k' + 1}}f
\end{align*}\par
以上より数学的帰納法によって、$\forall p \in \mathfrak{S}_{k}$に対し次式が成り立つ。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p(k)}}f = \partial_{j_{1}j_{2}\cdots j_{k}}f
\end{align*}
したがって、$\forall p,q \in \mathfrak{S}_{k}に対し$次式が成り立つ。
\begin{align*}
\partial_{j_{p(1)}j_{p(2)}\cdots j_{p(k)}}f = \partial_{j_{1}j_{2}\cdots j_{k}}f = \partial_{j_{q(1)}j_{q(2)}\cdots j_{q(k)}}f
\end{align*}
\end{proof}
\begin{thebibliography}{50}
\bibitem{1}
杉浦光夫, 解析入門I, 東京大学出版社, 1985. 第34刷 p107-112 ISBN978-4-13-062005-5
\end{thebibliography}
\end{document}
